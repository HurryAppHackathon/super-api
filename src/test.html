<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<form action="">
			<input id="party_id" type="text" />
			<button id="join" type="button">Join</button>
		</form>
		<form action="">
			<div class="chat">
				<div class="message">Ahmed: Hello</div>
			</div>

			<input id="message" type="text" name="" id="" />
			<button id="send" type="button">Send</button>
		</form>
		<script
			src="https://cdn.socket.io/4.7.4/socket.io.min.js"
			integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4"
			crossorigin="anonymous"
		></script>
		<script defer>
			function onclick() {}
			const party_id_input = document.getElementById("party_id");
			const join_btn = document.getElementById("join");
			const message_input = document.getElementById("message");
			const send_btn = document.getElementById("send");

			let socket;
			socket = io("ws://localhost:3000", {
				auth: {
					token: "hello",
				},
				extraHeaders: {
					Authorization:
					"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NzE1NTM4MTQyMDU5MDg5MTAxMCwidXNlcl9pZCI6NzE1NTM4MTQyMDU5MDg5MTAwOSwiZXhwIjoxMDAwMDAwMDAwMH0.rMaa7RxptnzK1cRhT2PBw6eX3tquuQJFSMZMb7ZEHH8",
				},
			});
			join_btn.onclick = (event) => {
				event.preventDefault();
				const str = party_id_input.value;
			};

			socket.on("message", (msg) => {
				console.log(msg);
			});
			socket.on("joined", () => {
				console.log("hi");
			});
			socket.on("connect", () => {
				console.log("connected to the websocket!");
				
			});
			socket.emit("join", { id: "7155381420590891012" });
			socket.on("joined", () => {
				console.log("hm?");
			});
		</script>
	</body>
</html>
